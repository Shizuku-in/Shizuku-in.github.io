function getThemeMode(){const e=localStorage.getItem("Fluid_Color_Scheme");console.log("当前主题模式为：",e||"dark");return e==="light"?"light":"dark"}function setBackgroundImage(e){const t=window.innerWidth<768;const o=document.querySelector("#web_bg");if(t){o.style.backgroundImage=`var(--mobile-bg-image)`}else if(e==="dark"){o.style.backgroundImage=`var(--desktop-bg-image-night)`}else{o.style.backgroundImage=`var(--desktop-bg-image-normal)`}}function initBackground(){const e=getThemeMode();setBackgroundImage(e)}function resetBannerStyles(){document.querySelector("#banner").setAttribute("style","background-image: none");document.querySelector("#banner .mask").setAttribute("style","background-color: rgba(0,0,0,0)")}const themeBtn=document.querySelector("#color-toggle-btn");if(themeBtn){themeBtn.addEventListener("click",()=>{const e=getThemeMode();setBackgroundImage(e);console.log(`切换到${e==="light"?"日间":"夜间"}模式`)})}initBackground();resetBannerStyles();let resizeTimeout;window.addEventListener("resize",()=>{clearTimeout(resizeTimeout);resizeTimeout=setTimeout(()=>{setBackgroundImage(getThemeMode())},200)},{passive:true});